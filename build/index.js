(window.webpackJsonp_getwid_megamenu=window.webpackJsonp_getwid_megamenu||[]).push([[2],{17:function(e,t,n){}}]),function(e){function t(t){for(var o,l,c=t[0],a=t[1],s=t[2],m=0,d=[];m<c.length;m++)l=c[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(u&&u(t);d.length;)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var a=n[c];0!==r[a]&&(o=!1)}o&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={1:0},i=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp_getwid_megamenu=window.webpackJsonp_getwid_megamenu||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=a;i.push([20,2]),n()}([function(e,t){e.exports=window.wp.element},function(e,t,n){var o=n(10);e.exports=function(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)){if(o.length){var l=r.apply(null,o);l&&e.push(l)}}else if("object"===i){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var c in o)n.call(o,c)&&o[c]&&e.push(c)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){var o=n(12),r=n(13),i=n(14),l=n(16);e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e){e.exports=JSON.parse('{"name":"getwid-megamenu/menu-item","category":"layout","parent":["getwid-megamenu/menu"],"attributes":{"url":{"type":"string","default":""},"id":{"type":"string"},"kind":{"type":"string"},"text":{"type":"string"},"linkTarget":{"type":"string"},"rel":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"},"fontSize":{"type":"string"},"customFontSize":{"type":"string"}},"supports":{"anchor":false,"align":false,"alignWide":false,"reusable":false,"lightBlockWrapper":false}}')},function(e){e.exports=JSON.parse('{"name":"getwid-megamenu/plain-menu-item","category":"layout","parent":["getwid-megamenu/plain-menu"],"attributes":{"url":{"type":"string","default":""},"id":{"type":"string"},"kind":{"type":"string"},"text":{"type":"string"},"linkTarget":{"type":"string"},"rel":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"},"fontSize":{"type":"string"},"customFontSize":{"type":"string"}},"supports":{"anchor":false,"align":false,"alignWide":false,"reusable":false,"lightBlockWrapper":false}}')},function(e){e.exports=JSON.parse('{"name":"getwid-megamenu/menu","title":"","category":"layout","attributes":{"itemsJustification":{"type":"string"},"expandDropdown":{"type":"boolean","default":false},"menuMaxWidth":{"type":"number"},"dropdownMaxWidth":{"type":"number"},"dropdownContentMaxWidth":{"type":"number"},"collapseOnMobile":{"type":"boolean","default":true},"responsiveBreakpoint":{"type":"number","default":600},"menuItemFontSize":{"type":"string"},"customMenuItemFontSize":{"type":"string"},"menuItemColor":{"type":"string"},"customMenuItemColor":{"type":"string"},"toggleButtonAlignment":{"type":"string"}},"supports":{"anchor":false,"align":["wide","full"],"reusable":false,"customClassName":true,"lightBlockWrapper":false}}')},function(e){e.exports=JSON.parse('{"name":"getwid-megamenu/plain-menu","title":"","category":"layout","attributes":{"itemsJustification":{"type":"string"},"orientation":{"type":"string","default":"horizontal"},"menuItemFontSize":{"type":"string"},"customMenuItemFontSize":{"type":"string"},"menuItemColor":{"type":"string"},"customMenuItemColor":{"type":"string"}},"supports":{"anchor":false,"align":false,"reusable":false,"customClassName":true,"lightBlockWrapper":false}}')},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(9).default,r=n(11);e.exports=function(e){var t=r(e,"string");return"symbol"===o(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(9).default;e.exports=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,l,c=[],a=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(o=i.call(n)).done)&&(c.push(o.value),c.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw r}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(15);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var o=n(6),r=n(0),i=wp.blockEditor.InnerBlocks,l=n(1),c=n.n(l),a=n(2),s=n.n(a),u=wp.components,m=u.BaseControl,d=u.ColorIndicator,p=wp.blockEditor.ColorPalette,f=function(e){var t=e.label,n=e.color,o=e.disableCustomColors,i=e.clearable,l=e.onChange;return Object(r.createElement)(m,null,Object(r.createElement)(m.VisualLabel,null,t,n&&Object(r.createElement)(d,{colorValue:n,style:{verticalAlign:"text-bottom",background:n}})),Object(r.createElement)(p,{value:n,onChange:l,disableCustomColors:o,clearable:i}))};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var b=wp.i18n.__,w=wp.element.useEffect,k=wp.blockEditor,h=k.BlockControls,v=k.InspectorControls,O=k.withFontSizes,y=k.withColors,x=k.getFontSizeObjectByValue,C=wp.components,j=C.PanelBody,E=C.Toolbar,S=C.ToolbarButton,B=C.ToolbarGroup,I=C.RangeControl,_=C.BaseControl,M=C.ButtonGroup,z=C.Button,P=C.ToggleControl,A=C.FontSizePicker,D=wp.data,T=D.withDispatch,F=D.withSelect,J=(0,wp.compose.compose)([y({menuItemColor:"color"}),O("menuItemFontSize"),F((function(e,t){return{fontSizes:e("core/block-editor").getSettings().fontSizes}})),T((function(e,t,n){return{updateChildBlocksAttributes:function(o){var r=e("core/block-editor").updateBlockAttributes;(0,n.select("core/block-editor").getBlocksByClientId)(t.clientId)[0].innerBlocks.forEach((function(e){r(e.clientId,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))}))}}}))])((function(e){var t=e.setAttributes,n=e.attributes,o=e.menuItemFontSize,i=e.menuItemColor,l=e.setMenuItemColor,c=e.updateChildBlocksAttributes,a=e.fontSizes;function s(e){return function(){var o=n.itemsJustification===e?void 0:e;t({itemsJustification:o})}}function u(){t({expandDropdown:!n.expandDropdown})}return w((function(){c({fontSize:o.slug,customFontSize:o.slug?void 0:o.size})}),[o.size]),w((function(){c({textColor:i.slug,customTextColor:i.slug?void 0:i.color})}),[i.color]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(h,null,Object(r.createElement)(E,{icon:n.itemsJustification?"editor-align".concat(n.itemsJustification):"editor-alignleft",label:b("Change items justification"),isCollapsed:!0,controls:[{icon:"editor-alignleft",title:b("Justify items left"),isActive:"left"===n.itemsJustification,onClick:s("left")},{icon:"editor-aligncenter",title:b("Justify items center"),isActive:"center"===n.itemsJustification,onClick:s("center")},{icon:"editor-alignright",title:b("Justify items right"),isActive:"right"===n.itemsJustification,onClick:s("right")}]}),Object(r.createElement)(B,null,Object(r.createElement)(S,{name:"expand",icon:n.expandDropdown?"editor-contract":"editor-expand",title:b("Expand dropdown"),onClick:u}))),Object(r.createElement)(v,null,Object(r.createElement)(j,{title:b("Styles"),initialOpen:!0},Object(r.createElement)(A,{fontSizes:a,value:o.size,onChange:function(e){var n=x(a,e).slug;t({menuItemFontSize:n,customMenuItemFontSize:n||null==e?void 0:e.toString()})}}),Object(r.createElement)(f,{label:b("Menu Item Color"),disableCustomColors:!1,color:i.color,onChange:l,clearable:!0}),Object(r.createElement)(P,{label:b("Expand dropdown"),help:n.expandDropdown?b("Dropdown width same as window width."):b("Dropdown width same as menu width."),checked:n.expandDropdown,onChange:u})),Object(r.createElement)(j,{title:b("Width Settings"),initialOpen:!1},Object(r.createElement)(I,{label:b("Maximum width of top-level menu in pixels"),value:n.menuMaxWidth,onChange:function(e){return t({menuMaxWidth:e})},min:0,max:2e3}),Object(r.createElement)(I,{label:b("Maximum width of dropdown in pixels"),value:n.dropdownMaxWidth,onChange:function(e){return t({dropdownMaxWidth:e})},min:0,max:2e3}),Object(r.createElement)(I,{label:b("Maximum width of dropdown content in pixels"),value:n.dropdownContentMaxWidth,onChange:function(e){return t({dropdownContentMaxWidth:e})},min:0,max:2e3})),Object(r.createElement)(j,{title:b("Responsive Settings"),initialOpen:!1},Object(r.createElement)(I,{label:b("Mobile device breakpoint in pixels"),value:n.responsiveBreakpoint,onChange:function(e){return t({responsiveBreakpoint:e})},min:0,max:2e3}),Object(r.createElement)(P,{label:b("Collapse on mobile?"),help:n.collapseOnMobile?b("Menu will be transformed to burger."):b("Menu will be as it is."),checked:n.collapseOnMobile,onChange:function(e){return t({collapseOnMobile:e})}}),Object(r.createElement)(_,{label:b("Toggle button alignment")},Object(r.createElement)(M,null,Object(r.createElement)(z,{icon:"editor-alignleft",isSecondary:!0,onClick:function(){t({toggleButtonAlignment:"left"})},isPrimary:"left"===n.toggleButtonAlignment}),Object(r.createElement)(z,{icon:"editor-aligncenter",isSecondary:!0,onClick:function(){t({toggleButtonAlignment:"center"})},isPrimary:"center"===n.toggleButtonAlignment}),Object(r.createElement)(z,{icon:"editor-alignright",isSecondary:!0,onClick:function(){t({toggleButtonAlignment:"right"})},isPrimary:"right"===n.toggleButtonAlignment}))))))})),N=(wp.i18n.__,wp.element.useRef),W=wp.blockEditor.InnerBlocks,R=wp.data.withSelect,L=wp.compose.compose,H=[["getwid-megamenu/menu-item",{}]],G=["getwid-megamenu/menu-item"],U=L([R((function(e,t){var n,o=t.clientId,r=e("core/block-editor"),i=r.getClientIdsOfDescendants,l=r.hasSelectedInnerBlock,c=r.getSelectedBlockClientId,a=r.getBlocksByClientId;return{isImmediateParentOfSelectedBlock:l(o,!1),selectedBlockHasDescendants:!(null===(n=i([c()]))||void 0===n||!n.length),menuItems:a(o)[0].innerBlocks}}))])((function(e){var t,n=e.selectedBlockHasDescendants,o=e.isImmediateParentOfSelectedBlock,i=e.isSelected,l=e.attributes,a=N(),u=s()("wp-block-getwid-megamenu","gw-mm",(t={},c()(t,"justify-items-".concat(l.itemsJustification),l.itemsJustification),c()(t,"has-full-width-dropdown",l.expandDropdown),t)),m={maxWidth:l.menuMaxWidth};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(J,e),Object(r.createElement)("div",{className:u},Object(r.createElement)("div",{className:"gw-mm__wrapper",style:m},Object(r.createElement)("div",{className:"gw-mm__content-wrapper"},Object(r.createElement)("div",{className:"gw-mm__content"},Object(r.createElement)(W,{ref:a,template:H,templateLock:!1,allowedBlocks:G,templateInsertUpdatesSelection:!1,renderAppender:!!(o&&!n||i)&&W.DefaultAppender,__experimentalMoverDirection:"horizontal",orientation:"horizontal"}))))))})),V=wp.blocks.registerBlockType,q=wp.i18n.__;V(o.name,{title:q("Mega Menu","getwid-megamenu"),keywords:[q("navigation","getwid-megamenu"),q("links","getwid-megamenu")],icon:"menu",category:o.category,attributes:o.attributes,supports:o.supports,edit:U,save:function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(i.Content,null))}});var $=n(4),K=wp.blockEditor.InnerBlocks,Q=n(8),X=n.n(Q),Y=n(3),Z=n.n(Y),ee=lodash.escape,te=wp.i18n.__,ne=wp.element,oe=ne.useCallback,re=ne.useState,ie=ne.useEffect,le=wp.components,ce=le.PanelBody,ae=le.TextControl,se=le.ToggleControl,ue=le.ToolbarButton,me=le.ToolbarGroup,de=le.Popover,pe=wp.blockEditor,fe=pe.BlockControls,ge=pe.InspectorControls,be=pe.__experimentalLinkControl,we=function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes,i=e.toggleItemDropdown,l=n.linkTarget,c=n.rel,a=n.text,s=n.url,u=re(!1),m=Z()(u,2),d=m[0],p=m[1],f=!(void 0===s||0===s.trim().length),g=oe((function(e){var t=e?"_blank":void 0,n=c;t&&!c?n="noreferrer noopener":t||"noreferrer noopener"!==c||(n=void 0),o({linkTarget:t,rel:n})}),[c,o]),b=oe((function(e){o({rel:e})}),[o]);return ie((function(){t&&!s&&p(!0)}),[t]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(fe,null,Object(r.createElement)(me,null,Object(r.createElement)(ue,{name:"link",icon:"admin-links",title:te("Edit Link"),onClick:function(){return p(!0),!1},isActive:f}),Object(r.createElement)(ue,{name:"unlink",icon:"editor-unlink",title:te("Unlink"),onClick:function(){o({url:void 0,linkTarget:void 0,rel:void 0}),p(!1)},isDisabled:!f})),Object(r.createElement)(me,null,Object(r.createElement)(ue,{name:"submenu",icon:"download",title:te("Add submenu"),onClick:i}))),d&&Object(r.createElement)(de,{position:"top center",onClose:function(){return p(!1)}},Object(r.createElement)(be,{value:{url:s,opensInNewTab:"_blank"===l},onChange:function(e){var t=e.title,n=void 0===t?"":t,r=e.url,i=void 0===r?"":r,c=e.opensInNewTab,s=e.id,u=void 0===s?"":s,m=e.kind;o({id:u,kind:void 0===m?"":m,url:i,text:a||(""!==n&&a!==n?ee(n):void 0)}),"_blank"===l!==c&&g(c),p(!1)}})),Object(r.createElement)(ge,null,Object(r.createElement)(ce,{title:te("Link settings")},Object(r.createElement)(se,{label:te("Open in new tab"),onChange:g,checked:"_blank"===l}),Object(r.createElement)(ae,{label:te("Link rel"),value:c||"",onChange:b}))))},ke=lodash,he=ke.head,ve=ke.isEqual,Oe=wp.i18n.__,ye=wp.element,xe=ye.useState,Ce=ye.useEffect,je=ye.useRef,Ee=wp.compose.compose,Se=wp.data,Be=Se.withSelect,Ie=Se.withDispatch,_e=wp.blockEditor,Me=_e.RichText,ze=_e.InnerBlocks,Pe=Ee([Be((function(e,t){var n=e("core/block-editor"),o=n.hasSelectedInnerBlock,r=n.getBlockCount,i=n.getBlockParentsByBlockName,l=n.getBlock,c=t.clientId,a=o(c,!0),s=!!r(c),u=he(i(c,"getwid-megamenu/menu"));return{isParentOfSelectedBlock:a,hasDescendants:s,rootBlockClientId:u,parentAttributes:l(u).attributes}})),Ie((function(e,t){var n=t.clientId;return{updateInnerBlocks:function(t){e("core/block-editor").replaceInnerBlocks(n,[],!1)}}}))])((function(e){var t,n=e.attributes,o=e.setAttributes,i=e.isSelected,l=e.onReplace,a=e.mergeBlocks,u=e.isParentOfSelectedBlock,m=e.hasDescendants,d=e.updateInnerBlocks,p=e.rootBlockClientId,f=e.parentAttributes,g=n.text,b=Oe("Add link…"),w=xe(m),k=Z()(w,2),h=k[0],v=k[1],O=h||m,y=(i||u)&&O,x=xe({left:0,width:"auto"}),C=Z()(x,2),j=C[0],E=C[1],S=je(null),B=function(){var e,t=S.current;if(t){var n=t.getBoundingClientRect(),o=(f.expandDropdown?t.closest(".editor-styles-wrapper"):t.closest('[data-block="'+p+'"]').querySelector(".wp-block-getwid-megamenu")).getBoundingClientRect(),r=-(n.x-o.x);f.dropdownMaxWidth&&o.width>f.dropdownMaxWidth&&(r+=(o.width-f.dropdownMaxWidth)/2),e={left:r,width:o.width},ve(e,j)||E(e)}};Ce((function(){B()}),[i]),Ce((function(){var e=S.current;e&&e.ownerDocument.defaultView.addEventListener("resize",B)}),[]),Ce((function(){o({fontSize:f.menuItemFontSize,customFontSize:f.customMenuItemFontSize,textColor:f.menuItemColor,customTextColor:f.customMenuItemColor})}),[]);var I={left:j.left,width:j.width,maxWidth:f.dropdownMaxWidth},_={backgroundColor:n.customDropdownBackgroundColor},M={maxWidth:f.dropdownContentMaxWidth},z=s()("gw-mm-item__dropdown",c()({"has-background":n.dropdownBackgroundColor||n.customDropdownBackgroundColor},"has-".concat(n.dropdownBackgroundColor,"-background-color"),!!n.dropdownBackgroundColor)),P=s()("wp-block-getwid-megamenu-item","gw-mm-item",{"has-child":m,"is-opened":y}),A=s()("gw-mm-item__link",(t={"has-text-color":n.textColor||n.customTextColor},c()(t,"has-".concat(n.textColor,"-color"),!!n.textColor),c()(t,"has-".concat(n.fontSize,"-font-size"),!!n.fontSize),t)),D={color:n.customTextColor,fontSize:n.customFontSize};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:P,ref:S},Object(r.createElement)("div",{className:A,style:D},Object(r.createElement)("a",null,Object(r.createElement)(Me,{placeholder:b,value:g,onChange:function(e){return o({text:e})},withoutInteractiveFormatting:!0,onReplace:l,onMerge:a,identifier:"text"}),O&&Object(r.createElement)("span",{className:"gw-mm-item__dropdown-icon"},Object(r.createElement)("span",{className:"dashicons dashicons-arrow-down"})))),y&&Object(r.createElement)("div",{className:"gw-mm-item__dropdown-wrapper",style:I},Object(r.createElement)("div",{className:z,style:_},Object(r.createElement)("div",{className:"gw-mm-item__dropdown-content",style:M},Object(r.createElement)(ze,null))))),Object(r.createElement)(we,X()({},e,{toggleItemDropdown:function(){return v(!h),m&&d(),!1},isItemDropdownOpened:h})))})),Ae=wp.blocks.registerBlockType,De=wp.i18n.__;Ae($.name,{title:De("Menu Item","getwid-megamenu"),icon:"admin-links",category:$.category,parent:$.parent,attributes:$.attributes,supports:$.supports,edit:Pe,save:function(){return Object(r.createElement)(K.Content,null)}});var Te=n(7),Fe=wp.blockEditor.InnerBlocks;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Ne=wp.i18n.__,We=wp.element.useEffect,Re=wp.blockEditor,Le=Re.BlockControls,He=Re.InspectorControls,Ge=Re.withFontSizes,Ue=Re.withColors,Ve=Re.getFontSizeObjectByValue,qe=wp.components,$e=qe.PanelBody,Ke=qe.Toolbar,Qe=qe.ToolbarButton,Xe=qe.ToolbarGroup,Ye=qe.FontSizePicker,Ze=wp.data,et=Ze.withDispatch,tt=Ze.withSelect,nt=(0,wp.compose.compose)([Ue({menuItemColor:"color"}),Ge("menuItemFontSize"),tt((function(e,t){return{fontSizes:e("core/block-editor").getSettings().fontSizes}})),et((function(e,t,n){return{updateChildBlocksAttributes:function(o){var r=e("core/block-editor").updateBlockAttributes;(0,n.select("core/block-editor").getBlocksByClientId)(t.clientId)[0].innerBlocks.forEach((function(e){r(e.clientId,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))}))}}}))])((function(e){var t=e.setAttributes,n=e.attributes,o=e.menuItemFontSize,i=e.menuItemColor,l=e.setMenuItemColor,c=e.updateChildBlocksAttributes,a=e.fontSizes;function s(e){return function(){var o=n.itemsJustification===e?void 0:e;t({itemsJustification:o})}}return We((function(){c({fontSize:o.slug,customFontSize:o.slug?void 0:o.size})}),[o.size]),We((function(){c({textColor:i.slug,customTextColor:i.slug?void 0:i.color})}),[i.color]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Le,null,Object(r.createElement)(Ke,{icon:n.itemsJustification?"editor-align".concat(n.itemsJustification):"editor-alignleft",label:Ne("Change items justification"),isCollapsed:!0,controls:[{icon:"editor-alignleft",title:Ne("Justify items left"),isActive:"left"===n.itemsJustification,onClick:s("left")},{icon:"editor-aligncenter",title:Ne("Justify items center"),isActive:"center"===n.itemsJustification,onClick:s("center")},{icon:"editor-alignright",title:Ne("Justify items right"),isActive:"right"===n.itemsJustification,onClick:s("right")}]}),Object(r.createElement)(Xe,null,Object(r.createElement)(Qe,{name:"orientation",icon:"image-rotate-right",title:"vertical"===n.orientation?Ne("Make horizontal"):Ne("Make vertical"),isActive:"vertical"===n.orientation,onClick:function(){t({orientation:"vertical"===n.orientation?"horizontal":"vertical"})}}))),Object(r.createElement)(He,null,Object(r.createElement)($e,{title:Ne("Settings"),initialOpen:!0},Object(r.createElement)(Ye,{fontSizes:a,value:o.size,onChange:function(e){var n=Ve(a,e).slug;t({menuItemFontSize:n,customMenuItemFontSize:n||null==e?void 0:e.toString()})}}),Object(r.createElement)(f,{label:Ne("Color"),disableCustomColors:!1,color:i.color,onChange:l,clearable:!0}))))})),ot=wp.element.useRef,rt=wp.blockEditor.InnerBlocks,it=wp.data.withSelect,lt=wp.compose.compose,ct=[["getwid-megamenu/plain-menu-item",{}]],at=["getwid-megamenu/plain-menu-item"],st=lt([it((function(e,t){var n,o=t.clientId,r=e("core/block-editor"),i=r.getClientIdsOfDescendants,l=r.hasSelectedInnerBlock,c=r.getSelectedBlockClientId;return{isImmediateParentOfSelectedBlock:l(o,!1),selectedBlockHasDescendants:!(null===(n=i([c()]))||void 0===n||!n.length)}}))])((function(e){var t,n=e.selectedBlockHasDescendants,o=e.isImmediateParentOfSelectedBlock,i=e.isSelected,l=e.attributes,a=ot(),u=s()("wp-block-getwid-plain-menu","gw-pm",(t={},c()(t,"justify-items-".concat(l.itemsJustification),l.itemsJustification),c()(t,"is-orientation-".concat(l.orientation),l.orientation),t));return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(nt,e),Object(r.createElement)("div",{className:u},Object(r.createElement)("div",{className:"gw-pm__content"},Object(r.createElement)(rt,{ref:a,template:ct,templateLock:!1,allowedBlocks:at,templateInsertUpdatesSelection:!1,renderAppender:!!(o&&!n||i)&&rt.DefaultAppender,__experimentalMoverDirection:l.orientation,orientation:l.orientation}))))})),ut=wp.blocks.registerBlockType,mt=wp.i18n.__;ut(Te.name,{title:mt("Plain Menu","getwid-megamenu"),icon:"menu",category:Te.category,attributes:Te.attributes,supports:Te.supports,edit:st,save:function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Fe.Content,null))}});var dt=n(5),pt=wp.blockEditor.InnerBlocks,ft=lodash.escape,gt=wp.i18n.__,bt=wp.element,wt=bt.useCallback,kt=bt.useState,ht=bt.useEffect,vt=wp.components,Ot=vt.PanelBody,yt=vt.TextControl,xt=vt.ToggleControl,Ct=vt.ToolbarButton,jt=vt.ToolbarGroup,Et=vt.Popover,St=wp.blockEditor,Bt=St.BlockControls,It=St.InspectorControls,_t=St.__experimentalLinkControl,Mt=function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes,i=e.insertPlainMenuItem,l=n.linkTarget,c=n.rel,a=n.text,s=n.url,u=kt(!1),m=Z()(u,2),d=m[0],p=m[1],f=!(void 0===s||0===s.trim().length),g=wt((function(e){o({rel:e})}),[o]),b=wt((function(e){var t=e?"_blank":void 0,n=c;t&&!c?n="noreferrer noopener":t||"noreferrer noopener"!==c||(n=void 0),o({linkTarget:t,rel:n})}),[c,o]);return ht((function(){t&&!s&&p(!0)}),[t]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Bt,null,Object(r.createElement)(jt,null,Object(r.createElement)(Ct,{name:"link",icon:"admin-links",title:gt("Edit Link"),onClick:function(){return p(!0),!1},isActive:f}),Object(r.createElement)(Ct,{name:"unlink",icon:"editor-unlink",title:gt("Unlink"),onClick:function(){o({url:void 0,linkTarget:void 0,rel:void 0}),p(!1)},isDisabled:!f})),Object(r.createElement)(jt,null,Object(r.createElement)(Ct,{name:"submenu",icon:"download",title:gt("Add submenu"),onClick:i}))),d&&Object(r.createElement)(Et,{position:"bottom center",onClose:function(){return p(!1)}},Object(r.createElement)(_t,{value:{url:s,opensInNewTab:"_blank"===l},onChange:function(e){var t=e.title,n=void 0===t?"":t,r=e.url,i=void 0===r?"":r,c=e.opensInNewTab,s=e.id,u=void 0===s?"":s,m=e.kind;o({id:u,kind:void 0===m?"":m,url:i,text:a||(""!==n&&a!==n?ft(n):void 0)}),"_blank"===l!==c&&b(c)}})),Object(r.createElement)(It,null,Object(r.createElement)(Ot,{title:gt("Link settings")},Object(r.createElement)(xt,{label:gt("Open in new tab"),onChange:b,checked:"_blank"===l}),Object(r.createElement)(yt,{label:gt("Link rel"),value:c||"",onChange:g}))))},zt=lodash.head,Pt=wp.i18n.__,At=wp.element,Dt=At.useState,Tt=At.useEffect,Ft=wp.compose.compose,Jt=wp.data,Nt=Jt.withSelect,Wt=Jt.withDispatch,Rt=wp.blockEditor,Lt=Rt.RichText,Ht=Rt.InnerBlocks,Gt=wp.blocks.createBlock,Ut=Ft([Nt((function(e,t){var n,o=e("core/block-editor"),r=o.hasSelectedInnerBlock,i=o.getClientIdsOfDescendants,l=o.getBlockParentsByBlockName,c=o.getSelectedBlockClientId,a=o.getBlock,s=t.clientId,u=r(s,!0),m=r(s,!1),d=!!i([s]).length,p=!(null===(n=i([c()]))||void 0===n||!n.length),f=zt(l(s,"getwid-megamenu/plain-menu")),g=zt(l(s,"getwid-megamenu/plain-menu-item"));return{isParentOfSelectedBlock:u,isImmediateParentOfSelectedBlock:m,selectedBlockHasDescendants:p,hasDescendants:d,rootBlockClientId:f,clientId:s,parentAttributes:a(f).attributes,parentItemClientId:g}})),Wt((function(e,t,n){return{clearInnerBlocks:function(n){e("core/block-editor").replaceInnerBlocks(t.clientId,[],!1)},insertPlainMenuItem:function(){var o=e("core/block-editor").insertBlock,r=(0,n.select("core/block-editor").getClientIdsOfDescendants)([t.clientId]),i=r.length?r.length:0;o(Gt("getwid-megamenu/plain-menu-item"),i,t.clientId)}}}))])((function(e){var t,n=e.attributes,o=e.setAttributes,i=e.isSelected,l=e.onReplace,a=e.mergeBlocks,u=e.isParentOfSelectedBlock,m=e.isImmediateParentOfSelectedBlock,d=e.hasDescendants,p=e.insertPlainMenuItem,f=e.selectedBlockHasDescendants,g=e.parentAttributes,b=e.parentItemClientId,w=n.text,k=Pt("Add link…"),h=Dt(d),v=Z()(h,2),O=v[0],y=(v[1],i||u),x=O||d,C=y&&x,j=s()("wp-block-getwid-plain-menu-item","gw-pm-item",{"has-child":d,"has-child-selected":u,"is-opened":C});Tt((function(){o({fontSize:b?void 0:g.menuItemFontSize,customFontSize:b?void 0:g.customMenuItemFontSize,textColor:b?void 0:g.menuItemColor,customTextColor:b?void 0:g.customMenuItemColor})}),[]);var E=s()("gw-pm-item__link",(t={"has-text-color":n.textColor||n.customTextColor},c()(t,"has-".concat(n.textColor,"-color"),!!n.textColor),c()(t,"has-".concat(n.fontSize,"-font-size"),!!n.fontSize),t)),S={color:n.customTextColor,fontSize:n.customFontSize};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:j},Object(r.createElement)("div",{className:E,style:S},Object(r.createElement)("a",{href:"#",onClick:function(){return!1}},Object(r.createElement)(Lt,{placeholder:k,value:w,onChange:function(e){return o({text:e})},withoutInteractiveFormatting:!0,onReplace:l,onMerge:a,identifier:"text"}),x&&Object(r.createElement)("span",{className:"gw-pm-item__dropdown-icon"},Object(r.createElement)("span",{className:"dashicons dashicons-arrow-down"})))),y&&Object(r.createElement)("div",{className:"gw-pm-item__dropdown"},Object(r.createElement)("div",{className:"gw-pm-item__dropdown-content"},Object(r.createElement)(Ht,{allowedBlocks:["getwid-megamenu/plain-menu-item"],renderAppender:!!(i&&d||m&&!f)&&Ht.DefaultAppender})))),Object(r.createElement)(Mt,X()({},e,{insertPlainMenuItem:p})))})),Vt=wp.blocks.registerBlockType,qt=wp.i18n.__;Vt(dt.name,{title:qt("Plain Menu Item","getwid-megamenu"),icon:"admin-links",category:dt.category,parent:dt.parent,attributes:dt.attributes,supports:dt.supports,edit:Ut,save:function(){return Object(r.createElement)(pt.Content,null)}}),n(17),n(18)}]);